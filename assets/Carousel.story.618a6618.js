import{r as n,R as L,a as g,j as i}from"./jsx-runtime.77ade35f.js";import{A as P}from"./index.966c39fe.js";import{u as S,T as a,i as z,c as B,C as O,a as U,S as w,K as G,b as k,U as V,o as A,d as y,e as I}from"./index.ae6b8c6e.js";import{V as Y}from"./fixtures.e9667a2d.js";import{b as J,s as E}from"./theme.0671ca63.js";import"./index.f2dcb44b.js";import{L as _}from"./index.31b54340.js";import"./index.5af8b7ed.js";import"./index.a99efbd4.js";import{c as K}from"./index.0cd5a964.js";import"./index.7e419764.js";import"./index.e7e377bf.js";import"./index.d134e7ed.js";import"./index.01e08282.js";import"./index.9de5aaf2.js";import"./index.fbd66d6b.js";import"./index.c8ed7e38.js";import"./index.122af814.js";import"./iframe.0e92f560.js";import"./is-plain-object.ed97bcae.js";import"./index.8efc96de.js";import"./variants.585ef867.js";import"./top-caret.c630b716.js";const $=e=>{const[r,s]=n.exports.useState("");return n.exports.useEffect(()=>{e!=null&&e.color&&s(J({color:e.color}))},[e==null?void 0:e.color]),r},X=380,Q=800,m=E("div",{width:X,overflow:"hidden",borderRadius:"$2",boxShadow:"0 2px 48px rgba(19,33,68,0.16), 0 0 0 1px $shadow4",height:"90%",maxHeight:Q}),d=E("div",{}),N={opacity:1,pointerEvents:"auto",transform:"translateY(0%)",transition:"transform 300ms cubic-bezier(0, 0.95, 0.1, 1), opacity 150ms linear"},H={opacity:0,pointerEvents:"none",transform:"translateY(100%)",transition:"transform 300ms cubic-bezier(0.85, 0, 0.6, 1), opacity 150ms linear"},D=E("div",{position:"fixed",inset:0,"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",pointerEvents:"none",zIndex:1e4,[`
    & > ${d},
    & > ${m}
  `]:{position:"absolute"},variants:{withChat:{true:{[`& > ${m}`]:{...N},[`& > ${d}`]:{...H}},false:{[`& > ${m}`]:{...H},[`& > ${d}`]:{...N}}},isHidden:{true:{display:"none"}}}}),Z=({children:e,chatAPI:r,sendMessage:s,assistant:o})=>{var f;const[b,u]=n.exports.useState(!1),[h,C]=n.exports.useState(!1),t=$(o);S(a.CLOSE,()=>u(!1)),S(a.OPEN,()=>u(!0));const p=L.useCallback(()=>s({type:a.OPEN}),[]),x=L.useCallback(()=>s({type:a.CLOSE}),[]);n.exports.useEffect(()=>{!z(r)||Object.assign(r,{open:p,close:x,hide:()=>C(!0),show:()=>C(!1),interact:l=>s({type:a.INTERACT,payload:l})})},[]);const T=(f=o==null?void 0:o.position)!=null?f:B.ChatPosition.RIGHT,c={bottom:o==null?void 0:o.spacing.bottom,[T]:o==null?void 0:o.spacing.side};return g(D,{withChat:b,isHidden:h,className:t,children:[!!o&&i(d,{style:c,children:i(_,{onClick:p,image:o.launcher})}),i(m,{style:c,children:e})]})},ee=Object.assign(Z,{Launcher:_,Container:D,ChatContainer:m,LauncherContainer:d}),M=E("div",{height:"100%",[`& ${O.Container}`]:{height:"100%"}}),R=e=>{const r=JSON.stringify(e);window.postMessage(r),window.parent.postMessage(r,"*")},te=({assistant:e,versionID:r,verify:s,user:o,url:b,session:u})=>{const h=n.exports.useCallback(()=>R({type:a.CLOSE}),[]),C=n.exports.useCallback(c=>R({type:a.SAVE_SESSION,payload:c}),[]),t=U({versionID:r,verify:s,url:b,user:o,session:u,saveSession:C});S(a.INTERACT,({payload:c})=>t.interact(c)),S(a.OPEN,async()=>{t.isStatus(w.IDLE)&&await p()});const p=async()=>{await t.launch()},x=n.exports.useCallback(()=>{t.setStatus(w.ENDED),h()},[]),T=$(e);return i(K,{...t,children:i(M,{className:T,children:g(O,{title:e.title,description:e.description,image:e.image,avatar:e.avatar,withWatermark:e.watermark,startTime:t.session.startTime,hasEnded:t.isStatus(w.ENDED),isLoading:!t.session.turns.length,onStart:p,onEnd:x,onSend:t.reply,onMinimize:h,children:[t.session.turns.map((c,f)=>G(c).with({type:k.USER},({id:l,...v})=>n.exports.createElement(V,{...A(v,["type"]),key:l})).with({type:k.SYSTEM},({id:l,...v})=>i(y,{...A(v,["type"]),feedback:e.feedback?{onClick:t.feedback}:void 0,avatar:e.avatar,isLast:f===t.session.turns.length-1},l)).exhaustive()),t.indicator&&i(y.Indicator,{avatar:e.avatar})]})})})};Object.assign(te,{sendMessage:R,Container:M});const j="https://source.unsplash.com/featured/248x150",W={title:"First Card",description:"Lorem ipsum dolor sit amet",image:j,actions:[{request:{},name:"First Button"},{request:{},name:"Second Button"},{request:{},name:"Third Button"}]},q=[W,{title:"Second Card",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem voluptas perspiciatis est quis dolores!",image:j},{title:"Third Card",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit.",actions:[{request:{},name:"Fourth Button"},{request:{},name:"Fifth Button"}]}],Le={title:"Components/Carousel",component:I},F=e=>i(I,{...e}),oe=F.bind({});oe.args={cards:[W]};const re=F.bind({});re.args={cards:q};const ie=e=>{const r=n.exports.useRef(null),s=n.exports.useRef(null);return i(ee.ChatContainer,{children:g(O.Dialog,{children:[i(y.Controls,{ref:s}),g(y.Container,{ref:r,withImage:!0,scrollable:!0,children:[i(P,{avatar:Y}),i(I,{...e,controlsRef:s,containerRef:r})]})]})})},ne=ie.bind({});ne.args={cards:q};export{re as MultipleCards,oe as SingleCard,ne as WithControls,Le as default};
//# sourceMappingURL=Carousel.story.618a6618.js.map
