import{r as n,j as a,R as T,a as g}from"./jsx-runtime.e4513c7f.js";import{A as ie}from"./index.42d6d440.js";import{K as q,C as I,U as re,o as N,S as E,u as j,a as M}from"./index.c61c8f15.js";import{V as ce}from"./fixtures.e9667a2d.js";import{f as de,g as D,a as P,R as L,S as O,h as b}from"./index.beaa3123.js";import"./index.484a71f2.js";import{L as K}from"./index.4b78f637.js";import{t as w,C as R}from"./tag.68cc90a9.js";import{b as le,s as d,a as pe}from"./animation.fa179f78.js";import{I as H}from"./index.9a4919dd.js";import{n as s}from"./functional.8db3b2e6.js";import"./index.90866633.js";import"./index.351b6450.js";import"./index.d2c1aac9.js";import"./index.8264098b.js";import"./index.b7a3fb7e.js";import"./index.90d4a3ec.js";import"./index.281c3821.js";import"./index.738c95ab.js";import"./index.115fc372.js";import"./index.a3f9dbe7.js";import"./index.10f199fd.js";import"./index.bf3459e3.js";import"./index.debfcdc4.js";import"./iframe.97a9dd79.js";import"./index.22a93914.js";import"./is-plain-object.ed97bcae.js";import"./top-caret.e584be94.js";import"./variants.b0f028fa.js";function F(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}const z=e=>{const[o,t]=n.exports.useState("");return n.exports.useEffect(()=>{e!=null&&e.color&&t(le({color:e.color}))},[e==null?void 0:e.color]),o},ue=w(R.PROACTIVE_CLOSE),C=d(ue("div"),{width:32,height:32,borderRadius:"$round",display:"flex",justifyContent:"center",alignItems:"center",color:"#656D75",cursor:"pointer",background:"$white",boxShadow:"$surfaceZ1Light",[`& ${H.Frame}`]:{width:10,height:10},["&:hover, &:active"]:{color:"#2B3239"}}),U=({...e})=>a(C,{...e,children:a(H,{svg:"closeV2"})});try{C.displayName="CloseContainer",C.__docgenInfo={description:"",displayName:"CloseContainer",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"never"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Proactive/Close.tsx#CloseContainer"]={docgenInfo:C.__docgenInfo,name:"CloseContainer",path:"src/components/Proactive/Close.tsx#CloseContainer"})}catch{}const me=w(R.PROACTIVE_MESSAGE),f=d(me("div"),{padding:"11px 16px 10px 16px",maxWidth:256,color:"#1A1E23",boxShadow:"$surfaceZ1Light",borderRadius:"$2",background:"$white",typo:{size:14}});try{f.displayName="MessageContainer",f.__docgenInfo={description:"",displayName:"MessageContainer",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"never"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Proactive/Message.tsx#MessageContainer"]={docgenInfo:f.__docgenInfo,name:"MessageContainer",path:"src/components/Proactive/Message.tsx#MessageContainer"})}catch{}try{Message.displayName="Message",Message.__docgenInfo={description:"",displayName:"Message",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"never"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Proactive/Message.tsx#Message"]={docgenInfo:Message.__docgenInfo,name:"Message",path:"src/components/Proactive/Message.tsx#Message"})}catch{}const he=w(R.PROACTIVE),y=d("div",{display:"flex",flexDirection:"column",gap:8,margin:"$4 0",alignItems:"inherit",[`& ${f}`]:{...pe({duration:150,delay:0})}}),x=d(he("div"),{position:"absolute",bottom:"100%",display:"flex",flexDirection:"column",[`& ${C}`]:{opacity:0},["&:hover"]:{[`& ${C}`]:{opacity:1}}}),Ce=({side:e,messages:o})=>{const[t,i]=T.useState(!1),r=T.useMemo(()=>o.map((l,p)=>q(l).with({type:de.TEXT},({payload:u})=>a(f,{children:String(u.message)},p)).otherwise(()=>null)),[o]);return T.useEffect(()=>{!r.length||i(!1)},[r]),t||!r.length?null:g(x,{style:{[e]:0,alignItems:e===D.ChatPosition.LEFT?"start":"end"},children:[a(U,{onClick:()=>i(!0)}),a(y,{children:r})]})},fe=Object.assign(Ce,{Message:f,Close:U});try{y.displayName="ProactiveMessageContainer",y.__docgenInfo={description:"",displayName:"ProactiveMessageContainer",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"never"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Proactive/index.tsx#ProactiveMessageContainer"]={docgenInfo:y.__docgenInfo,name:"ProactiveMessageContainer",path:"src/components/Proactive/index.tsx#ProactiveMessageContainer"})}catch{}try{x.displayName="ProactiveContainer",x.__docgenInfo={description:"",displayName:"ProactiveContainer",props:{as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"never"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Proactive/index.tsx#ProactiveContainer"]={docgenInfo:x.__docgenInfo,name:"ProactiveContainer",path:"src/components/Proactive/index.tsx#ProactiveContainer"})}catch{}const G=d("div",{height:"100%",[`& ${I.Container}`]:{height:"100%"}}),ge=({className:e})=>{const o=n.exports.useContext(P),t=n.exports.useContext(L),{assistant:i,config:r}=o,l=n.exports.useCallback(()=>{o.setStatus(O.ENDED),o.close()},[]),p=n.exports.useCallback(u=>{const c=t.session.turns[u-1];return(c==null?void 0:c.type)===b.USER?c:null},[t.session.turns]);return a(G,{className:e,children:g(I,{autostart:!!r.autostart,title:i.title,description:i.description,image:i.image,avatar:i.avatar,withWatermark:i.watermark,startTime:t.session.startTime,hasEnded:o.isStatus(O.ENDED),isLoading:o.isStatus(O.IDLE)&&t.session.turns.length===0&&t.autostart,onStart:o.launch,onEnd:l,onSend:o.reply,onMinimize:o.close,children:[t.session.turns.map((u,c)=>q(u).with({type:b.USER},({id:m,...h})=>n.exports.createElement(re,{...N(h,["type"]),key:m})).with({type:b.SYSTEM},({id:m,...h})=>a(E,{...N(h,["type"]),feedback:i.feedback?{onClick:v=>{o.feedback(v,h.messages,p(c))}}:void 0,avatar:i.avatar,isLast:c===t.session.turns.length-1},m)).exhaustive()),t.indicator&&a(E.Indicator,{avatar:i.avatar})]})})},X=Object.assign(ge,{Container:G}),Se=380,_e=800,$=w(R.WIDGET),S=d($("div","chat"),{width:Se,overflow:"hidden",borderRadius:"$2",boxShadow:"0 2px 48px rgba(19,33,68,0.16), 0 0 0 1px $shadow4",height:"90%",maxHeight:_e,"@mobile":{position:"fixed",height:"unset",maxHeight:"unset",width:"unset",left:0,right:0,top:0,bottom:0,borderRadius:0,boxShadow:"none"}}),_=d($("div","launcher"),{}),Y={opacity:1,pointerEvents:"auto",transform:"translateY(0%)",transition:"transform 300ms cubic-bezier(0, 0.95, 0.1, 1), opacity 150ms linear"},k={opacity:0,pointerEvents:"none",transform:"translateY(100%)",transition:"transform 300ms cubic-bezier(0.85, 0, 0.6, 1), opacity 150ms linear"},Z=d($("div"),{position:"fixed",inset:0,"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",pointerEvents:"none",zIndex:1e4,[`
    & > ${_},
    & > ${S}
  `]:{position:"absolute"},variants:{withChat:{true:{[`& > ${S}`]:{...Y},[`& > ${_}`]:{...k}},false:{[`& > ${S}`]:{...k},[`& > ${_}`]:{...Y}}},isHidden:{true:{display:"none"}}}}),ve=({chatAPI:e,ready:o})=>{var B;const{assistant:t,open:i,close:r,interact:l}=n.exports.useContext(P),{isOpen:p,shadowRoot:u}=n.exports.useContext(L),[c,m]=n.exports.useState(!1),[h,v]=n.exports.useState([]),oe=n.exports.useMemo(()=>window.matchMedia("(max-width: 768px)").matches,[]),se=z(t);n.exports.useEffect(()=>{if(!!F(e))return Object.assign(e,{open:i,close:r,hide:()=>m(!0),show:()=>m(!1),interact:l,proactive:{clear:()=>v([]),push:(...ne)=>v(ae=>[...ae,...ne])}}),o==null||o(),()=>{Object.assign(e,{open:s,hide:s,show:s,close:s,interact:s,proactive:{clear:s,push:s}})}},[]);const V=(B=t==null?void 0:t.position)!=null?B:D.ChatPosition.RIGHT,W={bottom:t==null?void 0:t.spacing.bottom,[V]:t==null?void 0:t.spacing.side};return j(t,u)?g(Z,{withChat:p,isHidden:c,className:se,children:[!!t&&g(_,{style:W,children:[a(fe,{side:V,messages:h}),a(K,{onClick:i,image:t.launcher})]}),a(S,{style:oe?{}:W,children:a(X,{})})]}):null},ye=Object.assign(ve,{Launcher:K,Container:Z,ChatContainer:S,LauncherContainer:_}),A=({chatAPI:e,ready:o})=>{const{shadowRoot:t}=n.exports.useContext(L),{assistant:i,interact:r}=n.exports.useContext(P),l=z(i),p=j(i,t);return n.exports.useEffect(()=>{if(!!F(e))return console.info("Methods open, close, hide, show, proactive.clear, proactive.push have no effect in this mode."),Object.assign(e,{open:s,close:s,hide:s,show:s,interact:r,proactive:{clear:s,push:s}}),o==null||o(),()=>{Object.assign(e,{open:s,hide:s,show:s,close:s,interact:s,proactive:{clear:s,push:s}})}},[]),p?a(X,{className:l}):null};try{A.displayName="ChatWindowStandaloneView",A.__docgenInfo={description:"",displayName:"ChatWindowStandaloneView",props:{chatAPI:{defaultValue:null,description:"",name:"chatAPI",required:!1,type:{name:"ChatAPI"}},ready:{defaultValue:null,description:"",name:"ready",required:!1,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/views/ChatWindow/ChatWindowStandaloneView.tsx#ChatWindowStandaloneView"]={docgenInfo:A.__docgenInfo,name:"ChatWindowStandaloneView",path:"src/views/ChatWindow/ChatWindowStandaloneView.tsx#ChatWindowStandaloneView"})}catch{}const Q="https://source.unsplash.com/featured/248x150",J={title:"First Card",description:"Lorem ipsum dolor sit amet",image:Q,actions:[{request:{},name:"First Button"},{request:{},name:"Second Button"},{request:{},name:"Third Button"}]},ee=[J,{title:"Second Card",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem voluptas perspiciatis est quis dolores!",image:Q},{title:"Third Card",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit.",actions:[{request:{},name:"Fourth Button"},{request:{},name:"Fifth Button"}]}],ot={title:"Components/Carousel",component:M},te=e=>a(M,{...e}),xe=te.bind({});xe.args={cards:[J]};const Ee=te.bind({});Ee.args={cards:ee};const we=e=>{const o=n.exports.useRef(null),t=n.exports.useRef(null);return a(ye.ChatContainer,{children:g(I.Dialog,{children:[a(E.Controls,{ref:t}),g(E.Container,{ref:o,withImage:!0,scrollable:!0,children:[a(ie,{avatar:ce}),a(M,{...e,controlsRef:t,containerRef:o})]})]})})},Re=we.bind({});Re.args={cards:ee};export{Ee as MultipleCards,xe as SingleCard,Re as WithControls,ot as default};
//# sourceMappingURL=Carousel.story.345cc841.js.map
