{"version":3,"file":"index.e13f03b4.js","sources":["../../src/components/ChatInput/styled.ts","../../src/components/ChatInput/index.tsx"],"sourcesContent":["import Bubble from '@/components/Bubble';\nimport Icon from '@/components/Icon';\nimport Input from '@/components/Input';\nimport { inputFocusStyles, inputStyles } from '@/components/Input/styled';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\n\nconst tag = tagFactory(ClassName.CHAT_INPUT);\n\nexport const ButtonContainer = styled(tag('label', 'button'), {\n  ...inputStyles,\n  display: 'inline-flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  width: '$md',\n  cursor: 'text',\n\n  [`& ${Bubble.Container}`]: {\n    transform: 'scale(0)',\n    trans: ['background-color', 'transform'],\n  },\n\n  variants: {\n    ready: {\n      true: {\n        [`& ${Bubble.Container}`]: {\n          transform: 'scale(1)',\n          cursor: 'pointer',\n        },\n      },\n    },\n  },\n});\n\nexport const Container = styled(tag('div'), {\n  display: 'flex',\n  boxShadow: '0 1px 12px $shadow2',\n  trans: ['border-color', 'box-shadow'],\n\n  [`& ${Input.Container}`]: {\n    margin: 0,\n    borderRightWidth: 0,\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    paddingRight: 7,\n    boxShadow: 'none',\n  },\n\n  [`& ${ButtonContainer}`]: {\n    borderLeftWidth: 0,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n  },\n\n  [`& ${Icon.Frame}`]: {\n    color: '$white',\n  },\n\n  [`& ${Input.Container}:focus`]: {\n    borderRightWidth: 0,\n  },\n\n  [`& ${Input.Container}:focus + ${ButtonContainer}`]: {\n    ...inputFocusStyles,\n    borderLeftWidth: 0,\n  },\n});\n","import cuid from 'cuid';\nimport { useMemo } from 'react';\n\nimport Bubble from '@/components/Bubble';\nimport Input, { InputProps } from '@/components/Input';\nimport { createControlled } from '@/utils/controls';\n\nimport { ButtonContainer, Container } from './styled';\n\nexport interface ChatInputProps extends InputProps {\n  /**\n   * If true, does not allow the user to submit a response.\n   */\n  buffering?: boolean;\n\n  /**\n   * A callback to submit the user response.\n   */\n  onSend?: VoidFunction;\n}\n\nconst ChatInput: React.FC<ChatInputProps> = ({ id, onSend, buffering, ...props }) => {\n  const internalID = useMemo(() => `vf-chat-input--${cuid()}`, []) ?? id;\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>): void => {\n    event.stopPropagation();\n\n    if (event.key !== 'Enter') return;\n\n    event.preventDefault();\n    onSend?.();\n  };\n\n  return (\n    <Container>\n      <Input id={internalID} onKeyDown={handleKeyPress} {...props} />\n      <ButtonContainer htmlFor={internalID} ready={!!props.value && !buffering}>\n        <Bubble size=\"small\" svg=\"smallArrowUp\" onClick={onSend} />\n      </ButtonContainer>\n    </Container>\n  );\n};\n\n/**\n * An input control with a built-in submit button.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/story/components-chat-chatinput--default}\n */\nexport default Object.assign(ChatInput, {\n  Controlled: createControlled(ChatInput, {\n    defaultValue: '',\n    enrichProps: (props, [, setValue]) => ({\n      ...props,\n      onSend: (): void => {\n        setValue('');\n        props.onSend?.();\n      },\n    }),\n  }),\n  Container,\n  ButtonContainer,\n});\n"],"names":["tag","tagFactory","ClassName","ButtonContainer","styled","inputStyles","Bubble","Container","Input","Icon","inputFocusStyles","ChatInput","id","onSend","buffering","internalID","useMemo","cuid","_jsxs","_jsx","event","handleKeyPress","props","ChatInput$1","createControlled","setValue"],"mappings":"2SAQA,MAAMA,EAAMC,EAAWC,EAAU,UAAU,EAE9BC,EAAkBC,EAAOJ,EAAI,QAAS,QAAQ,EAAG,CAC5D,GAAGK,EACH,QAAS,cACT,eAAgB,SAChB,WAAY,SACZ,MAAO,MACP,OAAQ,OAER,CAAC,KAAKC,EAAO,aAAc,CACzB,UAAW,WACX,MAAO,CAAC,mBAAoB,WAAW,CACzC,EAEA,SAAU,CACR,MAAO,CACL,KAAM,CACJ,CAAC,KAAKA,EAAO,aAAc,CACzB,UAAW,WACX,OAAQ,SACV,CACF,CACF,CACF,CACF,CAAC,EAEYC,EAAYH,EAAOJ,EAAI,KAAK,EAAG,CAC1C,QAAS,OACT,UAAW,sBACX,MAAO,CAAC,eAAgB,YAAY,EAEpC,CAAC,KAAKQ,EAAM,aAAc,CACxB,OAAQ,EACR,iBAAkB,EAClB,qBAAsB,EACtB,wBAAyB,EACzB,aAAc,EACd,UAAW,MACb,EAEA,CAAC,KAAKL,KAAoB,CACxB,gBAAiB,EACjB,oBAAqB,EACrB,uBAAwB,CAC1B,EAEA,CAAC,KAAKM,EAAK,SAAU,CACnB,MAAO,QACT,EAEA,CAAC,KAAKD,EAAM,mBAAoB,CAC9B,iBAAkB,CACpB,EAEA,CAAC,KAAKA,EAAM,qBAAqBL,KAAoB,CACnD,GAAGO,EACH,gBAAiB,CACnB,CACF,CAAC,EC9CDC,EAAA,CAAA,CAA6C,GAAAC,EAAEA,OAAAA,EAAIC,UAAAA,KAAQC,CAAd,IAAA,OAC3C,MAAAC,GAAAC,EAAAA,kBAAA,IAAA,kBAAAC,EAAA,IAAA,EAAA,IAAAD,KAAAA,EAAAJ,EAWA,OAAAM,EAAAX,EAAA,CACE,SAAA,CAAAY,EAAAX,EAAA,CACE,GAAAO,EAAWA,UAXfK,GAAA,CACEA,EAAAA,gBAAAA,EAEAA,EAAA,MAAA,UAEAA,EAAAA,eAAAA,EACAP,GAAAA,MAAAA,IAAM,EAK8BQ,GAAAA,CAAoBC,CAAAA,EAAAA,EAAAA,EAAAA,CACtD,QAAAP,EAA0BA,MAAAA,CAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAqCD,SAAAA,EAAAA,EAAAA,CAC7D,KAAA,QAAa,IAAA,eAAY,QAAAD,CAAwBA,CAAAA,CAAjD,CAAA,CAAA,CAHJ,CAAA,CAOH,EAODU,EAAA,OAAA,OAAAZ,EAAA,CAAwC,WAAAa,EAAAb,EAAA,CACE,aAAA,GACxB,YAAA,CAAAW,EAAA,CAAA,CAAAG,CAAA,KAAA,CACyB,GAAAH,EAClCA,OAAAA,IAAAA,OAEDG,EAAAA,EAAAA,GACAH,EAAAA,EAAAA,SAAAA,MAAAA,EAAAA,KAAAA,EAAA,CACD,EALoC,CAAA,EAFb,UAAAf,EAU5BA,gBAAAA,CAXsC,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}