import{r as n,R as L,a as g,j as i}from"./jsx-runtime.37cc8c19.js";import{A as F}from"./index.e46ca96f.js";import{u as S,T as a,i as P,c as z,C as O,a as B,S as w,K as U,b as k,U as G,o as A,d as y,e as I}from"./index.917820be.js";import{V}from"./fixtures.e9667a2d.js";import{b as Y,s as E}from"./theme.2a3dab83.js";import"./index.aff3fc9a.js";import{L as _}from"./index.aac37846.js";import"./index.4071f741.js";import"./index.3ba84b9f.js";import{c as J}from"./index.6aabcb4c.js";import"./index.0babb9b3.js";import"./index.419f7163.js";import"./index.28b3d2dc.js";import"./index.06cb9ed8.js";import"./index.678e077e.js";import"./index.7247d5ba.js";import"./index.e932d04c.js";import"./index.d9f6db0f.js";import"./iframe.2ad746a3.js";import"./is-plain-object.ed97bcae.js";import"./index.89050204.js";import"./variants.636f654a.js";import"./top-caret.7092f892.js";const $=e=>{const[r,s]=n.exports.useState("");return n.exports.useEffect(()=>{e!=null&&e.color&&s(Y({color:e.color}))},[e==null?void 0:e.color]),r},K=380,X=800,m=E("div",{width:K,overflow:"hidden",borderRadius:"$2",boxShadow:"0 2px 48px rgba(19,33,68,0.16), 0 0 0 1px $shadow4",height:"90%",maxHeight:X}),d=E("div",{}),N={opacity:1,pointerEvents:"auto",transform:"translateY(0%)",transition:"transform 300ms cubic-bezier(0, 0.95, 0.1, 1), opacity 150ms linear"},H={opacity:0,pointerEvents:"none",transform:"translateY(100%)",transition:"transform 300ms cubic-bezier(0.85, 0, 0.6, 1), opacity 150ms linear"},D=E("div",{position:"fixed",inset:0,"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",pointerEvents:"none",zIndex:1e4,[`
    & > ${d},
    & > ${m}
  `]:{position:"absolute"},variants:{withChat:{true:{[`& > ${m}`]:{...N},[`& > ${d}`]:{...H}},false:{[`& > ${m}`]:{...H},[`& > ${d}`]:{...N}}},isHidden:{true:{display:"none"}}}}),Q=({children:e,chatAPI:r,sendMessage:s,assistant:o})=>{var f;const[b,u]=n.exports.useState(!1),[h,C]=n.exports.useState(!1),t=$(o);S(a.CLOSE,()=>u(!1)),S(a.OPEN,()=>u(!0));const p=L.useCallback(()=>s({type:a.OPEN}),[]),x=L.useCallback(()=>s({type:a.CLOSE}),[]);n.exports.useEffect(()=>{!P(r)||Object.assign(r,{open:p,close:x,hide:()=>C(!0),show:()=>C(!1),interact:l=>s({type:a.INTERACT,payload:l})})},[]);const T=(f=o==null?void 0:o.position)!=null?f:z.ChatPosition.RIGHT,c={bottom:o==null?void 0:o.spacing.bottom,[T]:o==null?void 0:o.spacing.side};return g(D,{withChat:b,isHidden:h,className:t,children:[!!o&&i(d,{style:c,children:i(_,{onClick:p,image:o.launcher})}),i(m,{style:c,children:e})]})},Z=Object.assign(Q,{Launcher:_,Container:D,ChatContainer:m,LauncherContainer:d}),ee=E("div",{height:"100%",[`& ${O.Container}`]:{height:"100%"}}),R=e=>{const r=JSON.stringify(e);window.postMessage(r),window.parent.postMessage(r,"*")},te=({assistant:e,versionID:r,verify:s,user:o,url:b,session:u})=>{const h=n.exports.useCallback(()=>R({type:a.CLOSE}),[]),C=n.exports.useCallback(c=>R({type:a.SAVE_SESSION,payload:c}),[]),t=B({versionID:r,verify:s,url:b,user:o,session:u,saveSession:C});S(a.INTERACT,({payload:c})=>t.interact(c)),S(a.OPEN,async()=>{t.isStatus(w.IDLE)&&await p()});const p=async()=>{await t.launch()},x=n.exports.useCallback(()=>{t.setStatus(w.ENDED),h()},[]),T=$(e);return i(J,{...t,children:i(ee,{className:T,children:g(O,{title:e.title,description:e.description,image:e.image,avatar:e.avatar,withWatermark:e.watermark,startTime:t.session.startTime,hasEnded:t.isStatus(w.ENDED),isLoading:!t.session.turns.length,onStart:p,onEnd:x,onSend:t.reply,onMinimize:h,children:[t.session.turns.map((c,f)=>U(c).with({type:k.USER},({id:l,...v})=>n.exports.createElement(G,{...A(v,["type"]),key:l})).with({type:k.SYSTEM},({id:l,...v})=>i(y,{...A(v,["type"]),feedback:e.feedback?{onClick:t.feedback}:void 0,avatar:e.avatar,isLast:f===t.session.turns.length-1},l)).exhaustive()),t.indicator&&i(y.Indicator,{avatar:e.avatar})]})})})};Object.assign(te,{sendMessage:R});const M="https://source.unsplash.com/featured/248x150",j={title:"First Card",description:"Lorem ipsum dolor sit amet",image:M,actions:[{request:{},name:"First Button"},{request:{},name:"Second Button"},{request:{},name:"Third Button"}]},W=[j,{title:"Second Card",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem voluptas perspiciatis est quis dolores!",image:M},{title:"Third Card",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit.",actions:[{request:{},name:"Fourth Button"},{request:{},name:"Fifth Button"}]}],Le={title:"Components/Carousel",component:I},q=e=>i(I,{...e}),oe=q.bind({});oe.args={cards:[j]};const re=q.bind({});re.args={cards:W};const ie=e=>{const r=n.exports.useRef(null),s=n.exports.useRef(null);return i(Z.ChatContainer,{children:g(O.Dialog,{children:[i(y.Controls,{ref:s}),g(y.Container,{ref:r,withImage:!0,scrollable:!0,children:[i(F,{avatar:V}),i(I,{...e,controlsRef:s,containerRef:r})]})]})})},ne=ie.bind({});ne.args={cards:W};export{re as MultipleCards,oe as SingleCard,ne as WithControls,Le as default};
//# sourceMappingURL=Carousel.story.4a761759.js.map
