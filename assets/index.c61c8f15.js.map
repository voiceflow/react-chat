{"version":3,"file":"index.c61c8f15.js","sources":["../../../../node_modules/remeda/dist/es/purry.js","../../../../node_modules/remeda/dist/es/omit.js","../../src/styles/fragments.ts","../../src/components/AssistantInfo/styled.ts","../../src/components/AssistantInfo/index.tsx","../../src/components/Footer/styled.ts","../../src/components/Footer/index.tsx","../../src/components/Header/styled.ts","../../src/components/Header/index.tsx","../../src/components/Prompt/styled.ts","../../src/components/Prompt/index.tsx","../../../../node_modules/dayjs/dayjs.min.js","../../../../node_modules/dayjs/plugin/relativeTime.js","../../src/components/Chat/hooks.ts","../../src/hooks/useAutoScroll.ts","../../src/hooks/useDidUpdateEffect.ts","../../src/utils/stylesheet.ts","../../src/hooks/useLoadCustomTheme.tsx","../../../../node_modules/ts-pattern/dist/index.modern.js","../../src/components/SystemResponse/hooks.ts","../../src/components/SystemResponse/styled.ts","../../src/components/SystemResponse/Indicator.tsx","../../src/components/Carousel/styled.ts","../../src/components/Carousel/CarouselButton.tsx","../../src/components/Carousel/constants.ts","../../src/components/Carousel/hooks.ts","../../src/components/Carousel/index.tsx","../../src/components/Feedback/styled.ts","../../src/components/Feedback/index.tsx","../../src/components/SystemResponse/state/end.tsx","../../src/components/SystemResponse/SystemMessage.tsx","../../src/components/SystemResponse/index.tsx","../../src/components/UserResponse/styled.ts","../../src/components/UserResponse/index.tsx","../../src/components/Chat/styled.ts","../../src/components/Chat/index.tsx"],"sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n/**\n * Creates a function with `data-first` and `data-last` signatures.\n *\n * `purry` is a dynamic function and it's not type safe. It should be wrapped by a function that have proper typings.\n * Refer to the example below for correct usage.\n *\n * @param fn the function to purry.\n * @param args the arguments\n * @signature R.purry(fn, arguments);\n * @example-raw\n *    function _findIndex(array, fn) {\n *      for (let i = 0; i < array.length; i++) {\n *        if (fn(array[i])) {\n *          return i;\n *        }\n *      }\n *      return -1;\n *    }\n *\n *    // data-first\n *    function findIndex<T>(array: T[], fn: (item: T) => boolean): number;\n *\n *    // data-last\n *    function findIndex<T>(fn: (item: T) => boolean): (array: T[]) => number;\n *\n *    function findIndex() {\n *      return R.purry(_findIndex, arguments);\n *    }\n * @category Function\n */\nexport function purry(fn, args, lazy) {\n    var diff = fn.length - args.length;\n    var arrayArgs = Array.from(args);\n    if (diff === 0) {\n        return fn.apply(void 0, arrayArgs);\n    }\n    if (diff === 1) {\n        var ret = function (data) { return fn.apply(void 0, __spreadArray([data], arrayArgs, false)); };\n        if (lazy || fn.lazy) {\n            ret.lazy = lazy || fn.lazy;\n            ret.lazyArgs = args;\n        }\n        return ret;\n    }\n    throw new Error('Wrong number of arguments');\n}\n","import { purry } from './purry';\nexport function omit() {\n    return purry(_omit, arguments);\n}\nfunction _omit(object, names) {\n    var set = new Set(names);\n    return Object.entries(object).reduce(function (acc, _a) {\n        var name = _a[0], value = _a[1];\n        if (!set.has(name)) {\n            acc[name] = value;\n        }\n        return acc;\n    }, {});\n}\n","import { CSS } from './theme';\n\nexport const textOverflowStyles: CSS = {\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n};\n","import Avatar from '@/components/Avatar';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\nimport { textOverflowStyles } from '@/styles/fragments';\n\nconst tag = tagFactory(ClassName.ASSISTANT_INFO);\n\nexport const Title = styled(tag('h2', 'title'), {\n  ...textOverflowStyles,\n  width: '100%',\n  margin: 0,\n  typo: { size: 20, weight: '$2', height: '$3' },\n  color: '$black',\n});\n\nexport const Description = styled(tag('p', 'description'), {\n  display: '-webkit-box',\n  margin: 0,\n  typo: {},\n  color: '$darkGrey',\n  '-webkit-line-clamp': 2,\n  '-webkit-box-orient': 'vertical',\n  overflow: 'hidden',\n  wordBreak: 'break-word',\n});\n\nexport const Container = styled(tag('div'), {\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '48px 32px',\n  textAlign: 'center',\n\n  [`& ${Avatar.Container}`]: {\n    marginBottom: '$4',\n  },\n\n  [`& ${Title}`]: {\n    marginBottom: 8,\n  },\n});\n","import Avatar from '@/components/Avatar';\n\nimport { Container, Description, Title } from './styled';\n\nexport interface AssistantInfoProps {\n  /**\n   * The title of the assistant.\n   */\n  title: string;\n\n  /**\n   * A short description of the assistant to help frame the conversation.\n   */\n  description: string;\n\n  /**\n   * An image URL that identifies the assistant, such as a brand icon.\n   */\n  avatar: string;\n}\n\nconst AssistantInfo: React.FC<AssistantInfoProps> = ({ title, description, avatar }) => (\n  <Container>\n    <Avatar size=\"large\" avatar={avatar} />\n    <Title>{title}</Title>\n    <Description>{description}</Description>\n  </Container>\n);\n\n/**\n * This component displays introductory information about the assistant.\n * It will act as a placeholder before the conversation has started.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/story/components-chat-assistantinfo--default}\n */\nexport default Object.assign(AssistantInfo, {\n  Container,\n  Title,\n  Description,\n});\n","import Button from '@/components/Button';\nimport Input from '@/components/Input';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\n\nconst tag = tagFactory(ClassName.FOOTER);\n\nexport const Container = styled(tag('footer'), {\n  padding: '$3 $4 $4 $4',\n  borderRadius: '$1',\n\n  [`& ${Input.Container}`]: {\n    flex: 1,\n  },\n\n  [`& ${Button.Container}`]: {\n    width: '100%',\n  },\n\n  variants: {\n    withShadow: {\n      true: {\n        boxShadow: '0 12px 48px $shadow16',\n      },\n    },\n    withWatermark: {\n      true: {\n        paddingBottom: '0',\n      },\n    },\n  },\n});\n\nexport const Watermark = styled(tag('aside', 'watermark'), {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  padding: '10px 0 $3 0',\n  typo: { size: 12, height: '17px' },\n  color: '$darkGrey',\n\n  '& a': {\n    marginLeft: '0.5ch',\n    textDecoration: 'none',\n    color: '$blue',\n\n    '&:focus': {\n      outline: 0,\n    },\n  },\n});\n","import { useContext, useState } from 'react';\n\nimport { SessionStatus } from '@/common';\nimport Button from '@/components/Button';\nimport ChatInput from '@/components/ChatInput';\nimport { RuntimeStateAPIContext, RuntimeStateContext } from '@/contexts';\n\nimport { Container, Watermark } from './styled';\n\nexport interface FooterProps {\n  /**\n   * If true, shows a watermark indicating that the conversation is powered by Voiceflow.\n   */\n  withWatermark: boolean;\n\n  /**\n   * If true, shows a prompt to start a new chat by calling the {@link onStart} handler.\n   * If false, renders controls for the user to write a response.\n   */\n  hasEnded?: boolean | undefined;\n\n  /**\n   * A callback to start a new conversation.\n   */\n  onStart?: (() => Promise<void>) | undefined;\n\n  /**\n   * A callback to submit a user response.\n   */\n  onSend?: ((message: string) => Promise<void>) | undefined;\n}\n\nconst Footer: React.FC<FooterProps> = ({ withWatermark, hasEnded, onStart, onSend }) => {\n  const [message, setMessage] = useState('');\n  const [buffering, setBuffering] = useState(false);\n\n  const { session } = useContext(RuntimeStateContext);\n  const { config } = useContext(RuntimeStateAPIContext);\n  const { autostart } = config;\n  const handleSend = async (): Promise<void> => {\n    if (!message || buffering) return;\n\n    setBuffering(true);\n\n    setMessage('');\n    await onSend?.(message);\n\n    setBuffering(false);\n  };\n\n  return (\n    <Container withShadow={!!hasEnded || (!autostart && session.status === SessionStatus.IDLE)} withWatermark={withWatermark}>\n      {hasEnded || (!autostart && session.status === SessionStatus.IDLE) ? (\n        <Button onClick={onStart}>Start New Chat</Button>\n      ) : (\n        // eslint-disable-next-line jsx-a11y/no-autofocus\n        <ChatInput value={message} placeholder=\"Message…\" autoFocus onValueChange={setMessage} onSend={handleSend} buffering={buffering} />\n      )}\n      {withWatermark && (\n        <Watermark>\n          Assistant ⚡️ by\n          <a target=\"_blank\" href=\"https://voiceflow.com\" rel=\"noreferrer\">\n            Voiceflow\n          </a>\n        </Watermark>\n      )}\n    </Container>\n  );\n};\n\n/**\n * Footer for the chat widget; displays input controls or a prompt to restart the conversation.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/docs/components-chat-footer--running}\n */\nexport default Object.assign(Footer, {\n  Container,\n  Watermark,\n});\n","import Avatar from '@/components/Avatar';\nimport BaseButton from '@/components/Button';\nimport Icon from '@/components/Icon';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\nimport { textOverflowStyles } from '@/styles/fragments';\n\nconst tag = tagFactory(ClassName.HEADER);\n\nexport const Title = styled(tag('h1', 'title'), {\n  ...textOverflowStyles,\n  typo: { size: 17, weight: '$2', height: '$2' },\n  color: 'rgba(255,255,255,0.95)',\n});\n\nexport const Button = styled(tag(BaseButton.Reset, 'button'), {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  height: 32,\n  width: 32,\n  marginLeft: 8,\n  borderRadius: 6,\n  background: 'none',\n  trans: ['background-color'],\n\n  '&:hover': {\n    backgroundColor: 'rgba(255,255,255,0.16)',\n\n    [`& ${Icon.Frame}`]: {\n      color: '$white',\n    },\n  },\n\n  [`& ${Icon.Frame}`]: {\n    height: '$xxs',\n    width: '$xxs',\n    color: 'rgba(255,255,255,0.8)',\n    trans: ['color'],\n  },\n});\n\nexport const Container = styled(tag('header'), {\n  display: 'flex',\n  flexShrink: 0,\n  alignItems: 'center',\n  height: '$lg',\n  padding: '0 $4 0 $5',\n  backgroundColor: '$primary',\n  boxShadow: '0 1px 2px $shadow16',\n\n  [`& ${Avatar.Container}`]: {\n    height: 32,\n    width: 32,\n  },\n\n  [`& ${Title}`]: {\n    flex: 1,\n    margin: '0 0 0 14px',\n  },\n});\n","import Avatar from '@/components/Avatar';\nimport Icon, { IconProps } from '@/components/Icon';\n\nimport { Button, Container, Title } from './styled';\n\nexport interface HeaderActionProps {\n  /**\n   * The name of the SVG icon that will be used for the button or a React component.\n   *\n   * @see {@link https://github.com/voiceflow/react-chat/tree/master/packages/react-chat/src/assets/svg the available icons}\n   */\n  svg: IconProps['svg'];\n\n  /**\n   * A callback that is executed when the button is clicked.\n   */\n  onClick?: React.MouseEventHandler<HTMLButtonElement> | undefined;\n}\n\nexport interface HeaderProps {\n  /**\n   * The name of your assistant or title of the conversation.\n   */\n  title: string;\n\n  /**\n   * An image URL that will be rendered as a small {@link Avatar}.\n   */\n  image: string;\n\n  /**\n   * A list of actions that will appear as icon buttons.\n   */\n  actions?: HeaderActionProps[];\n}\n\nconst Header: React.FC<HeaderProps> = ({ title, image, actions = [] }) => (\n  <Container>\n    <Avatar avatar={image} />\n    <Title>{title}</Title>\n    {actions.map(({ svg, onClick }, index) => (\n      <Button onClick={onClick} key={index}>\n        <Icon svg={svg} />\n      </Button>\n    ))}\n  </Container>\n);\n\n/**\n * Header for the chat widget with image, title and controls.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/docs/components-chat-header--simple}\n */\nexport default Object.assign(Header, {\n  Container,\n  Title,\n  Button,\n});\n","import Button from '@/components/Button';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\n\nconst tag = tagFactory(ClassName.PROMPT);\n\nexport const Container = styled(tag('div'), {\n  padding: '$4 $4 $3 $4',\n  borderRadius: '$1',\n  backgroundColor: '$white',\n  boxShadow: '0 12px 48px 4px $shadow12',\n\n  [`& ${Button.Container}`]: {\n    width: '100%',\n    marginTop: '$1',\n\n    '&:first-of-type': {\n      marginTop: 0,\n    },\n  },\n});\n","import Button from '@/components/Button';\n\nimport { Container } from './styled';\n\nexport interface PromptOptionProps extends React.ComponentProps<typeof Button.Primary> {\n  /**\n   * The label that will appear on the action button.\n   */\n  label: string;\n}\n\nexport interface PromptProps {\n  /**\n   * Configuration for the \"accept\" action.\n   */\n  accept: PromptOptionProps;\n\n  /**\n   * Configuration for the \"cancel\" action.\n   */\n  cancel: PromptOptionProps;\n}\n\nconst Prompt: React.FC<PromptProps> = ({ accept, cancel }) => (\n  <Container>\n    <Button.Primary tabIndex={-1} {...accept}>\n      {accept.label}\n    </Button.Primary>\n    <Button type=\"subtle\" tabIndex={-1} {...cancel}>\n      {cancel.label}\n    </Button>\n  </Container>\n);\n\n/**\n * A popup that prompts the user with cancel and accept actions.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/story/components-chat-prompt--default}\n */\nexport default Object.assign(Prompt, {\n  Container,\n});\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},v=\"en\",D={};D[v]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return v;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(v=i),i||!r&&v},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var v=this.$locale().weekStart||0,D=(y<v?y+7:y)-v;return $(r?m-D:m+(6-D),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,v=O.m(this,M);return v=(l={},l[c]=v/12,l[f]=v,l[h]=v/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?v:O.a(v)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[v],w.Ls=D,w.p={},w}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","import dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { useMemo } from 'react';\n\nimport { Nullish } from '@/types';\n\ndayjs.extend(relativeTime);\n\nexport const useTimestamp = (startTime?: Nullish<number>) => {\n  return useMemo(() => {\n    if (!startTime) return null;\n\n    const start = dayjs(startTime);\n    const now = dayjs();\n\n    switch (true) {\n      case now.isSame(start, 'day'):\n        return 'Today';\n      case now.subtract(1, 'day').isSame(start, 'day'):\n        return 'Yesterday';\n      default:\n        return start.fromNow();\n    }\n  }, [startTime]);\n};\n","import { useContext, useLayoutEffect } from 'react';\n\nimport { AutoScrollContext } from '@/contexts';\n\nexport const useAutoScroll = (dependencies: any[] = []): void => {\n  const { scrollToBottom } = useContext(AutoScrollContext);\n\n  useLayoutEffect(() => {\n    scrollToBottom();\n  }, dependencies);\n};\n","import { useEffect, useRef } from 'react';\n\nexport const useDidUpdateEffect = (callback: () => void | VoidFunction, dependencies: unknown[] = []): void => {\n  const didMount = useRef(false);\n\n  useEffect(() => {\n    if (didMount.current) {\n      return callback();\n    }\n\n    didMount.current = true;\n\n    return undefined;\n  }, dependencies);\n};\n","import { useEffect, useState } from 'react';\n\nimport { Assistant } from '@/common';\n\n// used to add stylesheets dynamically, resolves when loaded\nexport const addStyleSheetURL = async (url: string, shadowRoot: ShadowRoot) => {\n  const link = document.createElement('link');\n  const load = new Promise((resolve, reject) => {\n    link.onload = resolve;\n    link.onerror = reject;\n  });\n\n  link.rel = 'stylesheet';\n  link.href = url;\n  shadowRoot.appendChild(link);\n\n  await load;\n};\n\n// do not load until stylesheet is resolved\nexport const useResolveAssistantStyleSheet = (assistant?: Assistant, shadowRoot?: ShadowRoot): boolean => {\n  const [isStyleSheetResolved, setStyleSheetResolved] = useState(false);\n\n  useEffect(() => {\n    if (!assistant || isStyleSheetResolved || !shadowRoot) return;\n\n    if (!assistant.stylesheet) {\n      setStyleSheetResolved(true);\n      return;\n    }\n\n    const stylesheet = Array.isArray(assistant.stylesheet) ? assistant.stylesheet[0] : assistant.stylesheet;\n\n    // inject stylesheet url\n    (async () => {\n      await addStyleSheetURL(stylesheet, shadowRoot!).catch((error) => {\n        console.error(`failed to load stylesheet: ${assistant.stylesheet}`);\n        console.error(error);\n      });\n      setStyleSheetResolved(true);\n    })();\n  }, [assistant]);\n\n  return isStyleSheetResolved;\n};\n","import { useContext } from 'react';\n\nimport { Assistant } from '@/common';\nimport { RuntimeStateContext } from '@/contexts/RuntimeContext';\nimport { useResolveAssistantStyleSheet } from '@/utils/stylesheet';\n\nexport const useLoadCustomTheme = (assistant: Assistant) => {\n  const { shadowRoot } = useContext(RuntimeStateContext);\n  return useResolveAssistantStyleSheet(assistant, shadowRoot);\n};\n","const e=Symbol(\"@ts-pattern/matcher\"),t=\"@ts-pattern/anonymous-select-key\",n=e=>Boolean(e&&\"object\"==typeof e),r=t=>t&&!!t[e],o=(t,c,a)=>{if(n(t)){if(r(t)){const n=t[e](),{matched:r,selections:o}=n.match(c);return r&&o&&Object.keys(o).forEach(e=>a(e,o[e])),r}if(!n(c))return!1;if(Array.isArray(t))return!!Array.isArray(c)&&t.length===c.length&&t.every((e,t)=>o(e,c[t],a));if(t instanceof Map)return c instanceof Map&&Array.from(t.keys()).every(e=>o(t.get(e),c.get(e),a));if(t instanceof Set){if(!(c instanceof Set))return!1;if(0===t.size)return 0===c.size;if(1===t.size){const[e]=Array.from(t.values());return r(e)?Array.from(c.values()).every(t=>o(e,t,a)):c.has(e)}return Array.from(t.values()).every(e=>c.has(e))}return Object.keys(t).every(n=>{const s=t[n];return(n in c||r(i=s)&&\"optional\"===i[e]().matcherType)&&o(s,c[n],a);var i})}return Object.is(c,t)},c=t=>{var o,s,i;return n(t)?r(t)?null!=(o=null==(s=(i=t[e]()).getSelectionKeys)?void 0:s.call(i))?o:[]:Array.isArray(t)?a(t,c):a(Object.values(t),c):[]},a=(e,t)=>e.reduce((e,n)=>e.concat(t(n)),[]);function s(t){return{[e]:()=>({match:e=>{let n={};const r=(e,t)=>{n[e]=t};return void 0===e?(c(t).forEach(e=>r(e,void 0)),{matched:!0,selections:n}):{matched:o(t,e,r),selections:n}},getSelectionKeys:()=>c(t),matcherType:\"optional\"})}}function i(t){return{[e]:()=>({match:e=>{if(!Array.isArray(e))return{matched:!1};let n={};if(0===e.length)return c(t).forEach(e=>{n[e]=[]}),{matched:!0,selections:n};const r=(e,t)=>{n[e]=(n[e]||[]).concat([t])};return{matched:e.every(e=>o(t,e,r)),selections:n}},getSelectionKeys:()=>c(t)})}}function u(...t){return{[e]:()=>({match:e=>{let n={};const r=(e,t)=>{n[e]=t};return{matched:t.every(t=>o(t,e,r)),selections:n}},getSelectionKeys:()=>a(t,c),matcherType:\"and\"})}}function l(...t){return{[e]:()=>({match:e=>{let n={};const r=(e,t)=>{n[e]=t};return a(t,c).forEach(e=>r(e,void 0)),{matched:t.some(t=>o(t,e,r)),selections:n}},getSelectionKeys:()=>a(t,c),matcherType:\"or\"})}}function h(t){return{[e]:()=>({match:e=>({matched:!o(t,e,()=>{})}),getSelectionKeys:()=>[],matcherType:\"not\"})}}function f(t){return{[e]:()=>({match:e=>({matched:Boolean(t(e))})})}}function y(...n){const r=\"string\"==typeof n[0]?n[0]:void 0,a=2===n.length?n[1]:\"string\"==typeof n[0]?void 0:n[0];return{[e]:()=>({match:e=>{let n={[null!=r?r:t]:e};return{matched:void 0===a||o(a,e,(e,t)=>{n[e]=t}),selections:n}},getSelectionKeys:()=>[null!=r?r:t].concat(void 0===a?[]:c(a))})}}const m=f(function(e){return!0}),v=m,d=f(function(e){return\"string\"==typeof e}),g=f(function(e){return\"number\"==typeof e}),p=f(function(e){return\"boolean\"==typeof e}),b=f(function(e){return\"bigint\"==typeof e}),w=f(function(e){return\"symbol\"==typeof e}),A=f(function(e){return null==e});var S={__proto__:null,optional:s,array:i,intersection:u,union:l,not:h,when:f,select:y,any:m,_:v,string:d,number:g,boolean:p,bigint:b,symbol:w,nullish:A,instanceOf:function(e){return f(function(e){return t=>t instanceof e}(e))},typed:function(){return{array:i,optional:s,intersection:u,union:l,not:h,select:y,when:f}}};const K=e=>new O(e,[]);class O{constructor(e,t){this.value=void 0,this.cases=void 0,this.value=e,this.cases=t}with(...e){const n=e[e.length-1],r=[e[0]],c=[];return 3===e.length&&\"function\"==typeof e[1]?(r.push(e[0]),c.push(e[1])):e.length>2&&r.push(...e.slice(1,e.length-1)),new O(this.value,this.cases.concat([{match:e=>{let n={};const a=Boolean(r.some(t=>o(t,e,(e,t)=>{n[e]=t}))&&c.every(t=>t(e)));return{matched:a,value:a&&Object.keys(n).length?t in n?n[t]:n:e}},handler:n}]))}when(e,t){return new O(this.value,this.cases.concat([{match:t=>({matched:Boolean(e(t)),value:t}),handler:t}]))}otherwise(e){return new O(this.value,this.cases.concat([{match:e=>({matched:!0,value:e}),handler:e}])).run()}exhaustive(){return this.run()}run(){let e,t=this.value;for(let n=0;n<this.cases.length;n++){const r=this.cases[n],o=r.match(this.value);if(o.matched){t=o.value,e=r.handler;break}}if(!e){let e;try{e=JSON.stringify(this.value)}catch(t){e=this.value}throw new Error(`Pattern matching error: no pattern matches value ${e}`)}return e(t,this.value)}}function j(...e){if(1===e.length){const[t]=e;return e=>o(t,e,()=>{})}if(2===e.length){const[t,n]=e;return o(t,n,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}export{S as P,S as Pattern,j as isMatching,K as match};\n//# sourceMappingURL=index.modern.js.map\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { match } from 'ts-pattern';\n\nimport { useDidUpdateEffect } from '@/hooks';\n\nimport { DEFAULT_MESSAGE_DELAY } from './constants';\nimport { MessageProps } from './types';\n\nexport * from './types';\n\nenum AnimationType {\n  MESSAGE = 'message',\n  INDICATOR = 'indicator',\n}\n\ntype Animation<T extends AnimationType = AnimationType> = {\n  [AnimationType.MESSAGE]: { type: AnimationType.MESSAGE; message: MessageProps };\n  [AnimationType.INDICATOR]: { type: AnimationType.INDICATOR; messageDelay: number };\n}[T];\n\nconst createAnimateIndicator = (messageDelay: number = DEFAULT_MESSAGE_DELAY): Animation<AnimationType.INDICATOR> => ({\n  type: AnimationType.INDICATOR,\n  messageDelay,\n});\n\nexport const useAnimatedMessages = ({ messages, isLast }: { messages: MessageProps[]; isLast: boolean | undefined }) => {\n  const shouldAnimate = useRef(isLast && !!messages.length);\n  const [complete, setComplete] = useState(!shouldAnimate.current);\n  const [showIndicator, setShowIndicator] = useState(shouldAnimate.current);\n  const [visibleMessages, setVisibleMessages] = useState(shouldAnimate.current ? [] : messages);\n\n  const endAnimation = useCallback(() => {\n    setComplete(true);\n    setShowIndicator(false);\n  }, []);\n\n  useEffect(() => {\n    if (!shouldAnimate) return undefined;\n\n    const animations = messages.flatMap<Animation>((message) => [createAnimateIndicator(message.delay), { type: AnimationType.MESSAGE, message }]);\n\n    let timer: NodeJS.Timeout;\n    const setTimer = (callback: VoidFunction, messageDelay: number) => {\n      if (messageDelay === 0) {\n        callback();\n        return;\n      }\n\n      timer = setTimeout(() => {\n        callback();\n      }, messageDelay);\n    };\n\n    const animate = () => {\n      if (!shouldAnimate.current) return;\n\n      const next = animations.shift();\n      if (!next) {\n        endAnimation();\n        return;\n      }\n\n      match(next)\n        .with({ type: AnimationType.MESSAGE }, ({ message }) => {\n          setShowIndicator(false);\n          setVisibleMessages((prev) => [...prev, message]);\n          setTimer(animate, DEFAULT_MESSAGE_DELAY);\n        })\n        .with({ type: AnimationType.INDICATOR }, ({ messageDelay = DEFAULT_MESSAGE_DELAY }) => {\n          setShowIndicator(true);\n          setTimer(animate, messageDelay);\n        })\n        .exhaustive();\n    };\n\n    animate();\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, []);\n\n  useDidUpdateEffect(() => {\n    if (!isLast) {\n      shouldAnimate.current = false;\n      endAnimation();\n      setVisibleMessages(messages);\n    }\n  }, [isLast]);\n\n  return {\n    complete,\n    showIndicator,\n    visibleMessages,\n  };\n};\n","import Avatar from '@/components/Avatar';\nimport Button from '@/components/Button';\nimport Message from '@/components/Message';\nimport Timestamp from '@/components/Timestamp';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\n\nconst tag = tagFactory(ClassName.SYSTEM_RESPONSE);\n\nexport const Actions = styled(tag('div', 'actions'), {\n  display: 'flex',\n  flexWrap: 'wrap',\n  marginBottom: 8,\n  padding: '0 $5 0 54px',\n\n  [`& ${Button.Container}`]: {\n    height: 'unset',\n    paddingTop: 7,\n    paddingBottom: 7,\n    marginTop: 8,\n    marginRight: 8,\n    whiteSpace: 'normal',\n    textAlign: 'start',\n  },\n});\n\nexport const Controls = styled(tag('span', 'controls'), {\n  position: 'relative',\n});\n\nexport const Container = styled(tag('div'), {\n  display: 'flex',\n\n  [`& ${Avatar.Container}`]: {\n    visibility: 'hidden',\n    alignSelf: 'flex-end',\n    margin: '0 8px 4px 0',\n  },\n\n  [`& ${Timestamp.Container}`]: {\n    alignSelf: 'center',\n    whiteSpace: 'nowrap',\n    marginLeft: 8,\n    opacity: '0%',\n    trans: ['opacity'],\n  },\n\n  [`&:hover ${Timestamp.Container}`]: {\n    opacity: '100%',\n  },\n\n  variants: {\n    withImage: {\n      true: {\n        [`& ${Avatar.Container}`]: {\n          visibility: 'visible',\n        },\n      },\n    },\n    scrollable: {\n      true: {\n        overflowX: 'scroll',\n        flexShrink: 0,\n        scrollbarWidth: 'none',\n        '-ms-overflow-style': 'none',\n\n        [`&::-webkit-scrollbar`]: {\n          display: 'none',\n        },\n      },\n    },\n    center: {\n      true: {\n        alignItems: 'center',\n      },\n    },\n  },\n});\n\nexport const MessageContainer = styled(tag(Container, 'message'));\n\nexport const IndicatorContainer = styled(tag(Container, 'indicator'));\n\nexport const List = styled(tag('div', 'list'), {\n  display: 'flex',\n  flexDirection: 'column',\n  flexShrink: 0,\n\n  [`& ${Message.Container}`]: {\n    marginBottom: '$1',\n    maxWidth: 248,\n\n    '&:last-of-type': {\n      marginBottom: 0,\n    },\n  },\n\n  variants: {\n    mode: {\n      bubble: {\n        [`& ${Message.Container}`]: {\n          maxWidth: 248,\n        },\n      },\n      embedded: {\n        // minus avatar and paddings, minus timestamp width\n        maxWidth: 'calc(100% - 54px - 50px)',\n        [`& ${Message.Container}`]: {\n          maxWidth: '100%',\n        },\n      },\n    },\n  },\n  defaultVariants: {\n    mode: 'bubble',\n  },\n});\n","import Avatar from '@/components/Avatar';\nimport TypingIndicator from '@/components/TypingIndicator';\n\nimport { IndicatorContainer } from './styled';\n\nexport interface IndicatorProps {\n  avatar: string;\n}\n\nconst Indicator: React.FC<IndicatorProps> = ({ avatar }) => (\n  <IndicatorContainer withImage center>\n    <Avatar avatar={avatar} />\n    <TypingIndicator />\n  </IndicatorContainer>\n);\n\nexport default Indicator;\n","import Card from '@/components/Card';\nimport Icon from '@/components/Icon';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\n\nconst BUTTON_SIZE = 42;\nexport const CAROUSEL_GUTTER_WIDTH = 12;\n\nconst tag = tagFactory(ClassName.CAROUSEL);\n\nexport const ButtonContainer = styled(tag('span', 'button'), {\n  position: 'absolute',\n  zIndex: 1,\n\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  borderRadius: '$round',\n  trans: ['background-color', 'box-shadow', 'opacity'],\n\n  height: BUTTON_SIZE,\n  width: BUTTON_SIZE,\n  cursor: 'pointer',\n  backgroundColor: '$white',\n  color: '$black',\n  boxShadow: '0 1px 3px 1px $shadow1, 0 0 0 1px $shadow3, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12',\n  border: 'none',\n\n  [`& ${Icon.Frame}`]: {\n    height: '$xxs',\n    width: '$xxs',\n    color: 'rgba(0,0,0,0.6)',\n    trans: ['color'],\n  },\n\n  [`&:hover`]: {\n    boxShadow: '0 1px 4px 1px $shadow4, 0 0 0 1px $shadow4, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12',\n  },\n\n  [`&:active`]: {\n    boxShadow: '0 1px 4px 1px $shadow8, 0 0 0 1px $shadow4, 0 2px 4px -3px $shadow12, 0 5px 8px -8px $shadow12',\n  },\n\n  [`\n      &:hover ${Icon.Frame},\n      &:active ${Icon.Frame}\n    `]: {\n    color: 'rgba(0,0,0,0.8)',\n  },\n\n  variants: {\n    visible: {\n      true: {\n        opacity: 1,\n        pointerEvents: 'auto',\n      },\n      false: {\n        opacity: 0,\n        pointerEvents: 'none',\n      },\n    },\n    alignment: {\n      left: {\n        left: 48 - BUTTON_SIZE / 2,\n      },\n      right: {\n        right: 70 - BUTTON_SIZE / 2,\n\n        [`& ${Icon.Frame}`]: {\n          transform: 'scaleX(-1)',\n        },\n      },\n    },\n  },\n});\n\nexport const Container = styled(tag('div'), {\n  display: 'flex',\n  whiteSpace: 'nowrap',\n\n  [`& ${Card.Container}`]: {\n    height: 'fit-content',\n    flexShrink: 0,\n    marginLeft: CAROUSEL_GUTTER_WIDTH,\n\n    '&:first-of-type': {\n      marginLeft: 0,\n    },\n  },\n});\n","import { forwardRef, MouseEventHandler } from 'react';\n\nimport Icon from '@/components/Icon';\n\nimport { ButtonContainer } from './styled';\n\nexport interface CarouselButtonProps {\n  /**\n   * The end of the container where the button will be rendered.\n   */\n  alignment: 'left' | 'right';\n\n  /**\n   * If true then the button will be visible, otherwise hidden.\n   */\n  visible: boolean;\n\n  /**\n   * The buttons will be centered vertically based on the height of this element.\n   */\n  containerEl: HTMLElement;\n\n  /**\n   * A click handler for the button.\n   */\n  onClick?: MouseEventHandler<HTMLButtonElement>;\n}\n\n/**\n * A button used to scroll to the previous or next Card in a Carousel.\n */\nconst CarouselButton = forwardRef<HTMLElement, CarouselButtonProps>(({ onClick, alignment, visible, containerEl }, ref) => (\n  <ButtonContainer\n    ref={ref}\n    alignment={alignment}\n    visible={visible}\n    css={{\n      transform: `translateY(calc(${containerEl.clientHeight / 2}px - 50%))`,\n    }}\n    onClick={onClick}\n  >\n    <Icon svg=\"largeArrowLeft\" />\n  </ButtonContainer>\n));\n\nexport default CarouselButton;\n","import { CARD_WIDTH } from '@/components/Card/styled';\n\nimport { CAROUSEL_GUTTER_WIDTH } from './styled';\n\nexport const CARD_WITH_BORDER_WIDTH = CARD_WIDTH + 2;\nexport const PREVIOUS_CONTROL_BOUNDARY = CARD_WITH_BORDER_WIDTH / 3;\nexport const NEXT_CONTROL_BOUNDARY = CARD_WITH_BORDER_WIDTH + CAROUSEL_GUTTER_WIDTH + PREVIOUS_CONTROL_BOUNDARY;\nexport const CARD_WITH_GUTTER_WIDTH = CARD_WITH_BORDER_WIDTH + CAROUSEL_GUTTER_WIDTH;\n","import { RefObject, useEffect, useRef, useState } from 'react';\n\nimport { CardProps } from '../Card';\nimport { CARD_WITH_GUTTER_WIDTH, NEXT_CONTROL_BOUNDARY, PREVIOUS_CONTROL_BOUNDARY } from './constants';\nimport { CAROUSEL_GUTTER_WIDTH } from './styled';\n\nexport const useScrollTo =\n  <T extends HTMLElement>(ref: RefObject<T> | undefined, getNextIndex: (el: T) => number) =>\n  () => {\n    const el = ref?.current;\n    if (!el) return;\n\n    const index = getNextIndex(el);\n\n    el.scrollTo({\n      left: index && index * CARD_WITH_GUTTER_WIDTH,\n      behavior: 'smooth',\n    });\n  };\n\nexport const useScrollObserver = (\n  containerRef: RefObject<HTMLDivElement> | undefined,\n  controlsRef: RefObject<HTMLSpanElement> | undefined,\n  cards: CardProps[]\n) => {\n  const [showPreviousButton, setShowPreviousButton] = useState(false);\n  const [showNextButton, setShowNextButton] = useState(false);\n  const previousButtonRef = useRef<HTMLButtonElement>(null);\n  const nextButtonRef = useRef<HTMLButtonElement>(null);\n  const hasMultipleCards = cards.length > 1;\n\n  useEffect(() => {\n    if (!controlsRef?.current || !hasMultipleCards) return;\n\n    setShowNextButton(true);\n  }, []);\n\n  useEffect(() => {\n    const containerEl = containerRef?.current;\n    if (!containerEl || !hasMultipleCards) return undefined;\n\n    const trackWidth = CARD_WITH_GUTTER_WIDTH * cards.length - CAROUSEL_GUTTER_WIDTH;\n\n    const handleScroll = (): void => {\n      const { scrollLeft } = containerEl;\n\n      setShowPreviousButton(scrollLeft >= PREVIOUS_CONTROL_BOUNDARY);\n      setShowNextButton(scrollLeft <= trackWidth - NEXT_CONTROL_BOUNDARY);\n    };\n\n    containerEl.addEventListener('scroll', handleScroll);\n\n    return () => {\n      containerEl.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  return {\n    previousButtonRef,\n    nextButtonRef,\n    showPreviousButton,\n    showNextButton,\n  };\n};\n","import { RefObject } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport Card, { CardProps } from '@/components/Card';\n\nimport CarouselButton from './CarouselButton';\nimport { CARD_WITH_GUTTER_WIDTH } from './constants';\nimport { useScrollObserver, useScrollTo } from './hooks';\nimport { Container } from './styled';\n\nexport interface CarouselProps {\n  /**\n   * A list of props objects which will be passed to {@link Card} components.\n   */\n  cards: CardProps[];\n\n  /**\n   * A reference to the HTML element of a parent horizontal scrolling container.\n   */\n  containerRef?: RefObject<HTMLDivElement>;\n\n  /**\n   * A reference to an HTML element to anchor the carousel controls.\n   */\n  controlsRef?: RefObject<HTMLSpanElement>;\n}\n\nconst Carousel: React.FC<CarouselProps> = ({ cards, containerRef, controlsRef }) => {\n  const { previousButtonRef, nextButtonRef, showPreviousButton, showNextButton } = useScrollObserver(containerRef, controlsRef, cards);\n  const containerEl = containerRef?.current;\n  const controlsEl = controlsRef?.current;\n  const showControls = containerEl && controlsEl;\n\n  const scrollToPrevious = useScrollTo(containerRef, (el) => Math.ceil(el.scrollLeft / CARD_WITH_GUTTER_WIDTH) - 1);\n  const scrollToNext = useScrollTo(containerRef, (el) => Math.floor(el.scrollLeft / CARD_WITH_GUTTER_WIDTH) + 1);\n\n  return (\n    <>\n      <Container>\n        {cards.map((card, index) => (\n          <Card {...card} key={index} />\n        ))}\n      </Container>\n      {showControls &&\n        createPortal(\n          <>\n            <CarouselButton\n              ref={previousButtonRef}\n              alignment=\"left\"\n              visible={showPreviousButton}\n              containerEl={containerEl}\n              onClick={scrollToPrevious}\n            />\n            <CarouselButton ref={nextButtonRef} alignment=\"right\" visible={showNextButton} containerEl={containerEl} onClick={scrollToNext} />\n          </>,\n          controlsEl\n        )}\n    </>\n  );\n};\n\n/**\n * A carousel of {@link Card} components that can be scrolled natively or with buttons.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/story/components-carousel--single-card}\n */\nexport default Object.assign(Carousel, {\n  Container,\n});\n","import { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\n\nconst tag = tagFactory(ClassName.FEEDBACK);\n\nexport const Container = styled(tag('div'), {\n  display: 'inline-flex',\n  alignItems: 'center',\n  boxSizing: 'border-box',\n  marginTop: '8.5px',\n});\n\nexport const Description = styled(tag('div', 'description'), {\n  color: '$darkGrey',\n  marginRight: 4,\n  lineHeight: 17,\n  typo: {\n    size: 12,\n  },\n});\n\nexport const ButtonsContainer = styled(tag('div', 'buttons'), {\n  display: 'flex',\n  gap: 4,\n});\n\nexport const Button = styled(tag('button', 'button'), {\n  display: 'inline-flex',\n  backgroundColor: 'transparent',\n  border: 0,\n  borderRadius: '$round',\n\n  width: 24,\n  height: 24,\n  padding: 0,\n  margin: 0,\n  cursor: 'pointer',\n\n  variants: {\n    active: {\n      false: {\n        color: 'rgb(115 115 118 / 85%)',\n        '&:hover': {\n          color: 'rgb(115 115 118 / 100%)',\n        },\n      },\n\n      true: {\n        color: '$white',\n        backgroundColor: '$primary',\n      },\n    },\n    orientation: {\n      positive: {\n        transform: 'none',\n      },\n      negative: {\n        transform: 'rotate(180deg)',\n      },\n    },\n  },\n\n  defaultVariants: {\n    active: false,\n    orientation: 'positive',\n  },\n});\n","import React from 'react';\n\nimport { thumbsUp as ThumbsUp } from '@/assets/svg';\nimport { FeedbackName } from '@/contexts/RuntimeContext/useRuntimeAPI';\n\nimport { Button, ButtonsContainer, Container, Description } from './styled';\n\nexport interface FeedbackProps extends React.PropsWithChildren {\n  /**\n   * Alternative question to ask the user\n   *\n   * @default 'Was this helpful?'\n   */\n  question?: string;\n\n  onClick: (feedback: FeedbackName) => void;\n}\n\nconst Feedback: React.FC<FeedbackProps> = ({ question = 'Was this helpful?', onClick, ...props }) => {\n  const [active, setActive] = React.useState<FeedbackName | null>(null);\n\n  const handleClick = (feedback: FeedbackName) => {\n    if (feedback === active) return;\n    onClick(feedback);\n    setActive(feedback);\n  };\n\n  return (\n    <Container {...props}>\n      <Description>{question}</Description>\n      <ButtonsContainer>\n        <Button orientation=\"positive\" active={active === FeedbackName.POSITIVE} onClick={() => handleClick(FeedbackName.POSITIVE)}>\n          <ThumbsUp width=\"24px\" height=\"24px\" />\n        </Button>\n        <Button orientation=\"negative\" active={active === FeedbackName.NEGATIVE} onClick={() => handleClick(FeedbackName.NEGATIVE)}>\n          <ThumbsUp width=\"24px\" height=\"24px\" />\n        </Button>\n      </ButtonsContainer>\n    </Container>\n  );\n};\n\nexport default Feedback;\n","import { useContext, useEffect } from 'react';\n\nimport { SessionStatus } from '@/common';\nimport { RuntimeStateAPIContext } from '@/contexts';\n\nconst EndState: React.FC = () => {\n  const runtime = useContext(RuntimeStateAPIContext);\n\n  useEffect(() => {\n    runtime.setStatus(SessionStatus.ENDED);\n  }, []);\n\n  return null;\n};\n\nexport default EndState;\n","import { useContext, useRef } from 'react';\nimport * as R from 'remeda';\nimport { match } from 'ts-pattern';\n\nimport Avatar from '@/components/Avatar';\nimport Card from '@/components/Card';\nimport Carousel from '@/components/Carousel';\nimport Image from '@/components/Image';\nimport Text from '@/components/Text';\nimport Timestamp from '@/components/Timestamp';\nimport { RuntimeStateAPIContext } from '@/contexts';\n\nimport Feedback, { FeedbackProps } from '../Feedback';\nimport { MessageType } from './constants';\nimport EndState from './state/end';\nimport { Controls, List, MessageContainer } from './styled';\nimport { MessageProps } from './types';\n\nexport interface SystemMessageProps extends React.PropsWithChildren {\n  /**\n   * An image URL for an avatar to associate this message with.\n   */\n  avatar: string;\n\n  /**\n   * A unix timestamp indicating when this message was sent.\n   */\n  timestamp: number;\n\n  /**\n   * A single message to render with a {@link Message} component.\n   */\n  message?: MessageProps;\n\n  /**\n   * If true, renders an avatar next to the message.\n   */\n  withImage: boolean;\n\n  /**\n   * If provided, will display {@link Feedback} component.\n   * @default false\n   */\n  feedback?: FeedbackProps | undefined;\n}\n\nconst SystemMessage: React.FC<SystemMessageProps> = ({ avatar, feedback, timestamp, message, withImage, children }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const controlsRef = useRef<HTMLSpanElement>(null);\n\n  const { config } = useContext(RuntimeStateAPIContext);\n\n  if (!children && message?.type === MessageType.END) {\n    return <EndState />;\n  }\n\n  return (\n    <>\n      <Controls ref={controlsRef} />\n      <MessageContainer ref={containerRef} withImage={withImage} scrollable={message?.type === MessageType.CAROUSEL}>\n        <Avatar avatar={avatar} />\n        <List mode={config.render!.mode}>\n          {children ??\n            match(message)\n              .with({ type: MessageType.TEXT }, ({ text }) => <Text text={text} />)\n              .with({ type: MessageType.IMAGE }, ({ url }) => <Image image={url} mode={config.render?.mode} />)\n              .with({ type: MessageType.CARD }, (props) => <Card {...R.omit(props, ['type'])} />)\n              .with({ type: MessageType.CAROUSEL }, (props) => (\n                <Carousel {...R.omit(props, ['type'])} containerRef={containerRef} controlsRef={controlsRef} />\n              ))\n              .otherwise(() => null)}\n          {feedback && <Feedback {...feedback} />}\n        </List>\n        <Timestamp value={timestamp} />\n      </MessageContainer>\n    </>\n  );\n};\n\n/**\n * An individual message within a system response.\n */\nexport default SystemMessage;\n","import { useContext } from 'react';\n\nimport type { RuntimeAction } from '@/common';\nimport Button from '@/components/Button';\nimport { RuntimeStateAPIContext } from '@/contexts';\nimport { useAutoScroll } from '@/hooks';\n\nimport Feedback, { FeedbackProps } from '../Feedback';\nimport { MessageType } from './constants';\nimport { useAnimatedMessages } from './hooks';\nimport Indicator from './Indicator';\nimport { Actions, Container, Controls, List } from './styled';\nimport SystemMessage, { SystemMessageProps } from './SystemMessage';\nimport { MessageProps } from './types';\n\nexport * from './types';\n\nexport interface ResponseActionProps {\n  name: string;\n  request: RuntimeAction;\n}\n\nexport interface SystemResponseProps {\n  /**\n   * An image URL for an avatar to associate the messages with.\n   */\n  avatar: string;\n\n  /**\n   * A unix timestamp indicating when the messages were sent.\n   */\n  timestamp: number;\n\n  /**\n   * A list of messages that will be rendered as {@link SystemMessage} components.\n   */\n  messages: MessageProps[];\n\n  /**\n   * A list of actions that will be rendered as buttons.\n   */\n  actions?: ResponseActionProps[];\n\n  /**\n   * If true, allows actions to appear after this message.\n   * Only the last system message in a row can show actions.\n   */\n  isLast?: boolean;\n\n  /**\n   * If provided, will display {@link Feedback} component under the last message.\n   * @default false\n   */\n  feedback?: FeedbackProps | undefined;\n\n  /**\n   * Override the rendering of individual messages.\n   */\n  Message?: React.ComponentType<SystemMessageProps>;\n}\n\nconst SystemResponse: React.FC<SystemResponseProps> = ({ feedback, avatar, timestamp, messages, actions = [], isLast, Message = SystemMessage }) => {\n  const runtime = useContext(RuntimeStateAPIContext);\n\n  const { showIndicator, visibleMessages, complete } = useAnimatedMessages({\n    messages,\n    isLast,\n  });\n\n  useAutoScroll([showIndicator, complete, visibleMessages.length]);\n\n  if (!messages.length && !actions.length) return null;\n\n  return (\n    <>\n      {visibleMessages.map((message, index) => (\n        <Message\n          message={message}\n          withImage={!showIndicator && index === visibleMessages.length - 1}\n          feedback={complete && !showIndicator && index === visibleMessages.length - 1 ? feedback : undefined}\n          avatar={avatar}\n          timestamp={timestamp}\n          key={index}\n        />\n      ))}\n\n      {isLast && complete && !!actions.length && (\n        <Actions>\n          {actions.map(({ request, name }, index) => (\n            <Button variant=\"secondary\" onClick={() => runtime?.interact(request, name)} key={index}>\n              {name}\n            </Button>\n          ))}\n        </Actions>\n      )}\n\n      {showIndicator && <Indicator avatar={avatar} />}\n    </>\n  );\n};\n\n/**\n * A dynamic component capable of displaying all standard system responses.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/story/components-chat-systemresponse--simple-text}\n */\nexport default Object.assign(SystemResponse, {\n  Message: MessageType,\n\n  Container,\n  Controls,\n  List,\n  Actions,\n  Indicator,\n  SystemMessage,\n});\n","import Timestamp from '@/components/Timestamp';\nimport Tooltip from '@/components/Tooltip';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { styled } from '@/styles';\n\nimport Message from '../Message';\n\nconst tag = tagFactory(ClassName.USER_RESPONSE);\n\nexport const Debug = styled(tag('aside', 'debug'), {\n  typo: { size: '12px', height: '17px' },\n  color: '$darkGrey',\n  marginTop: '$2',\n});\n\nexport const Container = styled(tag('div'), {\n  display: 'flex',\n  flexDirection: 'column',\n  flexShrink: 0,\n  alignItems: 'flex-end',\n\n  [`& > ${Tooltip.Container}`]: {\n    marginTop: '$1',\n  },\n  variants: {\n    mode: {\n      bubble: {\n        [`& ${Message.Container}`]: {\n          maxWidth: 282,\n        },\n      },\n      embedded: {\n        [`& ${Message.Container}`]: {\n          maxWidth: '80%',\n        },\n      },\n    },\n  },\n\n  defaultVariants: {\n    mode: 'bubble',\n  },\n});\n\nexport const Row = styled(tag('div', 'row'), {\n  display: 'flex',\n  width: '100%',\n  alignItems: 'center',\n\n  [`& ${Timestamp.Container}`]: {\n    flexGrow: 1,\n    marginRight: 8,\n    textAlign: 'end',\n    opacity: '0%',\n    trans: ['opacity'],\n  },\n\n  [`&:hover ${Timestamp.Container}`]: {\n    opacity: '100%',\n  },\n});\n","import { useContext } from 'react';\n\nimport Message from '@/components/Message';\nimport Timestamp from '@/components/Timestamp';\nimport Tooltip from '@/components/Tooltip';\nimport { RuntimeStateAPIContext } from '@/contexts';\nimport { useAutoScroll } from '@/hooks';\n\nimport { Container, Debug, Row } from './styled';\n\nexport interface DebugActionProps {\n  label: string;\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nexport interface DebugResponseProps {\n  message: string;\n  reason?: string;\n  action?: DebugActionProps;\n}\n\nexport interface UserResponseProps {\n  /**\n   * The message text to display.\n   */\n  message: string;\n\n  /**\n   * A unix timestamp indicating when this response was sent.\n   */\n  timestamp: number;\n\n  /**\n   * If provided, adds a caption and optional \"debug\" message with an action.\n   */\n  debug?: DebugResponseProps;\n}\n\nconst UserResponse: React.FC<UserResponseProps> = ({ message, timestamp, debug }) => {\n  useAutoScroll();\n\n  const { config } = useContext(RuntimeStateAPIContext);\n  return (\n    <Container mode={config.render!.mode}>\n      <Row>\n        <Timestamp value={timestamp} />\n        <Message from=\"user\" mode={config.render!.mode}>\n          {message}\n        </Message>\n      </Row>\n      {debug && (\n        <>\n          <Debug>{debug.message}</Debug>\n          {debug.reason && (\n            <Tooltip label={debug.action?.label} onClick={debug.action?.onClick} orientation=\"right\">\n              {debug.reason}\n            </Tooltip>\n          )}\n        </>\n      )}\n    </Container>\n  );\n};\n\n/**\n * A user-sent text response.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/story/components-chat-userresponse--simple}\n */\nexport default Object.assign(UserResponse, {\n  Container,\n  Debug,\n  Row,\n});\n","import AssistantInfo from '@/components/AssistantInfo';\nimport Footer from '@/components/Footer';\nimport Header from '@/components/Header';\nimport Loader from '@/components/Loader';\nimport Prompt from '@/components/Prompt';\nimport SystemResponse from '@/components/SystemResponse';\nimport Timestamp from '@/components/Timestamp';\nimport UserResponse from '@/components/UserResponse';\nimport { ClassName } from '@/constants';\nimport { tagFactory } from '@/hocs';\nimport { animationStyles, createTransition, CSS, fadeIn, styled } from '@/styles';\n\nconst PROMPT_OVERFLOW = 10;\n\nconst tag = tagFactory(ClassName.CHAT);\n\nexport const Overlay = styled(tag('div', 'overlay'), {\n  position: 'absolute',\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n  backgroundColor: '$shadow12',\n});\n\nexport const Container = styled(tag('article'), {\n  position: 'relative',\n  display: 'flex',\n  overflow: 'hidden',\n  flexDirection: 'column',\n  backgroundColor: '$white',\n\n  [`& > ${Loader}`]: {\n    margin: 'auto',\n  },\n\n  [`& ${Header.Container}`]: {\n    animation: `${fadeIn} 150ms ease forwards`,\n  },\n\n  [`& ${Footer.Container}`]: {\n    ...animationStyles({ duration: 300, delay: 300 }),\n  },\n\n  [`& ${Overlay}`]: {\n    opacity: 0,\n    pointerEvents: 'none',\n    trans: ['opacity'],\n  },\n\n  [`& ${Prompt.Container}`]: {\n    position: 'absolute',\n    bottom: 0,\n    width: '100%',\n    boxSizing: 'border-box',\n    paddingBottom: `calc($3 + ${PROMPT_OVERFLOW}px)`,\n    transition: `transform 320ms cubic-bezier(0.45, 1.29, 0.64, 1), ${createTransition(['box-shadow'], 300)}`,\n    transform: `translateY(calc(100% + ${PROMPT_OVERFLOW}px))`,\n  },\n\n  variants: {\n    withPrompt: {\n      true: {\n        [`& ${Overlay}`]: {\n          opacity: 1,\n          zIndex: 2,\n          pointerEvents: 'auto',\n        },\n\n        [`& ${Prompt.Container}`]: {\n          zIndex: 3,\n          transform: `translateY(${PROMPT_OVERFLOW}px)`,\n        },\n      },\n      false: {\n        [`& ${Prompt.Container}`]: {\n          boxShadow: 'none',\n        },\n      },\n    },\n  },\n});\n\nconst statusStyles: CSS = {\n  display: 'flex',\n  justifyContent: 'center',\n  typo: { size: 12 },\n  color: '$darkGrey',\n};\n\nexport const Status = styled(tag('div', 'status'), {\n  ...statusStyles,\n});\n\nexport const SessionTime = styled(tag('span', 'session-time'), {\n  ...statusStyles,\n  paddingBottom: '$3',\n});\n\nexport const Dialog = styled(tag('main', 'dialog'), {\n  display: 'flex',\n  flexDirection: 'column',\n  height: '100%',\n  overflowY: 'scroll',\n  overflowX: 'hidden',\n  paddingBottom: '$3',\n\n  [`\n    & ${UserResponse.Container},\n    & ${SystemResponse.List},\n    & ${SystemResponse.Actions},\n    & ${AssistantInfo.Container}\n  `]: {\n    ...animationStyles({ duration: 150, delay: 0 }),\n  },\n\n  [`\n    & > ${UserResponse.Container},\n    & > ${SystemResponse.Container}\n  `]: {\n    padding: '0 $5',\n  },\n\n  [`& > ${SystemResponse.Actions}`]: {\n    padding: '0 $5 0 54px',\n  },\n\n  [`& ${SystemResponse.Container}`]: {\n    marginBottom: '$1',\n\n    '&:last-of-type': {\n      marginBottom: 0,\n    },\n  },\n\n  [`& ${UserResponse.Container} + ${UserResponse.Container}`]: {\n    marginTop: '$1',\n  },\n\n  [`\n    & ${SystemResponse.Container} + ${UserResponse.Container},\n    & ${SystemResponse.Actions} + ${UserResponse.Container},\n    & ${UserResponse.Container} + ${SystemResponse.Controls} + ${SystemResponse.Container}\n  `]: {\n    marginTop: '$5',\n  },\n\n  [`& ${Timestamp.Container}`]: { width: 50 },\n\n  [`& ${Status}`]: {\n    marginTop: '$3',\n    marginBottom: 8,\n  },\n});\n\nexport const Spacer = styled(tag('div', 'spacer'), {\n  flexGrow: 1,\n});\n","import React, { memo, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { RenderMode } from '@/common';\nimport AssistantInfo, { AssistantInfoProps } from '@/components/AssistantInfo';\nimport Footer, { FooterProps } from '@/components/Footer';\nimport Header, { HeaderProps } from '@/components/Header';\nimport Loader from '@/components/Loader';\nimport Prompt from '@/components/Prompt';\nimport { AutoScrollProvider, RuntimeStateAPIContext, RuntimeStateContext } from '@/contexts';\nimport { Nullish } from '@/types';\nimport { chain } from '@/utils/functional';\n\nimport { useTimestamp } from './hooks';\nimport { Container, Dialog, Overlay, SessionTime, Spacer, Status } from './styled';\n\nexport interface ChatProps extends HeaderProps, AssistantInfoProps, FooterProps, React.PropsWithChildren<unknown> {\n  /**\n   * A short description of the assistant to help frame the conversation.\n   */\n  description: string;\n\n  /**\n   * If true, shows a loading indicator.\n   */\n  isLoading: boolean;\n\n  /**\n   * A unix timestamp indicating the start of the conversation.\n   */\n  startTime?: Nullish<number>;\n\n  /**\n   * If true, a Voiceflow watermark is added to the footer.\n   */\n  withWatermark: boolean;\n\n  /**\n   * If true, the chat messages are shown, and the session is active.\n   */\n  autostart?: boolean;\n\n  /**\n   * A callback that is executed when the chat widget is minimized.\n   */\n  onMinimize?: React.MouseEventHandler<HTMLButtonElement>;\n\n  /**\n   * A callback that is executed when the conversation ends.\n   */\n  onEnd?: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nconst Chat: React.FC<ChatProps> = ({\n  hasEnded,\n  title,\n  image,\n  avatar,\n  description,\n  startTime,\n  isLoading,\n  withWatermark,\n  autostart,\n  onMinimize,\n  onEnd,\n  onStart,\n  onSend,\n  children,\n}) => {\n  const timestamp = useTimestamp(startTime);\n  const dialogRef = useRef<HTMLElement>(null);\n  const [hasAlert, setAlert] = useState(false);\n\n  const { config } = useContext(RuntimeStateAPIContext);\n  const state = useContext(RuntimeStateContext);\n\n  useEffect(() => {\n    if (autostart) onStart?.();\n  }, [autostart]);\n\n  const handleClose = (event: React.MouseEvent<HTMLButtonElement>): void => {\n    if (hasEnded) {\n      onEnd?.(event);\n    } else {\n      setAlert(true);\n    }\n  };\n\n  const handleResume = (): void => setAlert(false);\n\n  const actions = useMemo(() => {\n    if (config.render?.mode === RenderMode.BUBBLE) {\n      return [\n        { svg: 'minus', onClick: onMinimize },\n        { svg: 'close', onClick: handleClose },\n      ];\n    }\n    return [{ svg: 'close', onClick: handleClose }];\n  }, [config, handleClose, onMinimize]);\n\n  if (isLoading) {\n    return (\n      <Container>\n        <Loader />\n      </Container>\n    );\n  }\n\n  return (\n    <Container withPrompt={hasAlert}>\n      <Header title={title} image={image} actions={actions} />\n      <Dialog ref={dialogRef}>\n        <AutoScrollProvider target={dialogRef}>\n          <AssistantInfo title={title} avatar={avatar} description={description} />\n          <Spacer />\n          {!!timestamp && !!state.session.turns.length && <SessionTime>{timestamp}</SessionTime>}\n          {children}\n          {hasEnded && <Status>You have ended the chat</Status>}\n        </AutoScrollProvider>\n      </Dialog>\n      <Footer withWatermark={withWatermark} hasEnded={hasEnded} onStart={onStart} onSend={onSend} />\n      <Overlay />\n      <Prompt accept={{ label: 'End Chat', type: 'warn', onClick: chain(onEnd, handleResume) }} cancel={{ label: 'Cancel', onClick: handleResume }} />\n    </Container>\n  );\n};\n\n/**\n * A full chat dialog with header, footer, overlay and auto-scrolling content.\n *\n * @see {@link https://voiceflow.github.io/react-chat/?path=/story/templates-chat--empty}\n */\nexport default Object.assign(memo(Chat), {\n  Container,\n  Dialog,\n  Overlay,\n  Spacer,\n  Status,\n});\n"],"names":["__spreadArray","this","to","from","pack","i","l","ar","purry","fn","args","lazy","diff","arrayArgs","ret","data","omit","_omit","object","names","set","acc","_a","name","value","textOverflowStyles","tag","tagFactory","ClassName","Title","styled","Description","Container","Avatar","AssistantInfo","title","description","_jsxs","_jsx","avatar","AssistantInfo$1","Input","Button","Watermark","Footer","withWatermark","hasEnded","onStart","message","setMessage","useState","buffering","setBuffering","session","config","autostart","handleSend","onSend","SessionStatus","IDLE","ChatInput","Footer$1","BaseButton","Icon","Header","image","svg","onClick","index","Header$1","Prompt","accept","label","cancel","Prompt$1","t","e","module","n","r","s","u","a","o","f","h","c","d","$","y","M","m","g","v","D","p","_","S","w","O","T","dayjs","relativeTime","useTimestamp","startTime","useMemo","start","now","useAutoScroll","dependencies","scrollToBottom","useContext","AutoScrollContext","useLayoutEffect","useDidUpdateEffect","callback","didMount","useRef","useEffect","addStyleSheetURL","url","shadowRoot","link","load","resolve","reject","useResolveAssistantStyleSheet","assistant","isStyleSheetResolved","setStyleSheetResolved","stylesheet","error","useLoadCustomTheme","K","createAnimateIndicator","messageDelay","DEFAULT_MESSAGE_DELAY","useAnimatedMessages","messages","isLast","shouldAnimate","complete","setComplete","showIndicator","setShowIndicator","visibleMessages","setVisibleMessages","endAnimation","useCallback","animations","timer","setTimer","animate","next","match","prev","Actions","Controls","Timestamp","MessageContainer","IndicatorContainer","List","Message","Indicator","TypingIndicator","Indicator$1","BUTTON_SIZE","CAROUSEL_GUTTER_WIDTH","ButtonContainer","Card","CarouselButton","forwardRef","alignment","visible","ref","containerEl","CARD_WITH_BORDER_WIDTH","CARD_WIDTH","PREVIOUS_CONTROL_BOUNDARY","NEXT_CONTROL_BOUNDARY","CARD_WITH_GUTTER_WIDTH","useScrollTo","getNextIndex","el","useScrollObserver","containerRef","controlsRef","cards","showPreviousButton","setShowPreviousButton","showNextButton","setShowNextButton","previousButtonRef","nextButtonRef","hasMultipleCards","trackWidth","handleScroll","scrollLeft","Carousel","controlsEl","showControls","scrollToPrevious","scrollToNext","_Fragment","card","_createElement","createPortal","Carousel$1","ButtonsContainer","Feedback","question","props","active","setActive","React","handleClick","feedback","FeedbackName","POSITIVE","ThumbsUp","NEGATIVE","EndState","runtime","RuntimeStateAPIContext","SystemMessage","timestamp","withImage","children","MessageType","CAROUSEL","mode","TEXT","text","IMAGE","CARD","R","SystemMessage$1","SystemResponse","actions","undefined","request","SystemResponse$1","Debug","Tooltip","Row","UserResponse","debug","reason","UserResponse$1","PROMPT_OVERFLOW","Overlay","Loader","fadeIn","animationStyles","createTransition","statusStyles","Status","SessionTime","Dialog","Spacer","Chat","isLoading","onMinimize","onEnd","dialogRef","hasAlert","setAlert","state","RuntimeStateContext","handleClose","event","handleResume","RenderMode","chain","Chat$1","memo"],"mappings":"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"}